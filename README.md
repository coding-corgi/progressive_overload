
# Progressive Overload 프로젝트

## 1. 프로젝트 개요

> **실무에서 경험한 핵심 백엔드 기술을  
> 설계→구현→성능 실험→지표→문서화까지  
> ‘실제 서비스’ 수준으로 증명하는 포트폴리오**

- **핵심 도메인**
  - `Account Service` : 회원가입/인증/유저 관리 (MySQL)
  - `Challenge Service` : 챌린지 생성/운동 기록/성장지표 관리 (MySQL + Redis)
- **MSA/DDD 아키텍처 기반, 컨테이너 환경(Docker)에서 실험**
- **모든 핵심 흐름/실험/지표 직접 설계·구현·측정**


## 2. 아키텍처 다이어그램

![제목 없는 다이어그램 drawio](https://github.com/user-attachments/assets/c1ba2361-d734-4b12-bc88-4ba93b495bd9)



## 3. 기술 스택 & 인프라

| 구분 | 기술 | 목적 및 사용 이유 |
| :--- | :--- | :--- |
| **언어/프레임워크** | `TypeScript`, `NestJS` | 타입 안정성 확보 및 DDD, MSA 구현에 용이한 아키텍처 |
| **데이터베이스** | `MySQL`, `TypeORM` | 핵심 데이터 저장을 위한 관계형 데이터베이스 및 ORM |
| | `Redis` | 성장 지표, 인기 피드 등 자주 조회되는 데이터 캐싱으로 응답 속도 향상 |
| **메시지 브로커** | `RabbitMQ` | 서비스 간 비동기 이벤트 통신을 통한 시스템 결합도 감소 (EDA 구현) |
| **개발/배포 환경** | `Docker`, `Docker Compose` | 로컬 개발 환경의 일관성 유지 및 간편한 서비스 관리 |
| | `GitHub Actions` | 테스트 및 빌드 자동화를 통한 CI(Continuous Integration) 구축 |
| **테스트** | `Jest` | 단위(Unit), 통합(Integration), E2E 테스트를 통한 코드 안정성 확보 |


## 4. 실험/성능 지표 (캐시 도입 전후)
#### 4.1. Redis 캐시 적용 전/후 성능 변화

| 지표                       | 캐시 미적용 (DB 직접 조회) | 캐시 적용 (1st miss, 이후 hit) |
|----------------------------|--------------------------|-------------------------------|
| 평균 응답속도 (mean, ms)   | 2,773                    | 940                           |
| 중간값 (p50, ms)           | 3,262                    | 983                           |
| 95% 구간 (p95, ms)         | 6,440                    | 1,979                         |
| 최대 응답시간 (max, ms)    | 9,944                    | 3,124                         |
| 총 요청 수 (count)         | 6,433                    | 9,182                         |
| **Redis 캐시 적중률**      | -                        | **40%**                       |

📊 **응답속도 분포 (p50/p95/max)**
|        | p50        | p95         | max        |
|--------|------------|-------------|------------|
| 미적용 | ■■■■■ 3,262 | ■■■■■■■ 6,440 | ■■■■■■■■ 9,944 |
| 적용   | ■■ 983     | ■■■ 1,979    | ■■■■ 3,124  |

> **캐시 미적용:** 모든 요청이 DB로 → 응답 p95=6초, p99=8.7초까지 지연  
> **캐시 적용:** 첫 miss 후 거의 모든 요청이 redis에서 반환 → 평균 1초 이하로 감소


#### 4.2. Redis 캐시 info 결과

```plaintext
# Stats (INFO)
keyspace_hits:             49,386
keyspace_misses:           72,658
total_commands_processed: 122,563
total_error_replies:        3,107
```

---

## 5. 실험 환경 및 방법

- **Docker compose** 기반 단일 서버(Ryzen 7 2700x, 32GB RAM)
- **DB/Redis/서비스 모두 컨테이너**
- **부하테스트:** Artillery(WarmupPeakOverload, 최대 3,000 RPS/20초)
- **캐시 조건:** Redis TTL 30초, DB/Redis 단일 인스턴스

---

## 6. 실험 결과 요약/인사이트

- **대량 트래픽(3,000 QPS)에서 캐시 미적용 시 DB 병목(p95=6.4초) → 캐시 적용 후 1초 이하로 감소**
- **실제 실무 환경 효과/한계까지 직접 검증**
- 캐시 도입 효과: 첫 요청 1회만 DB, 이후 캐시에서 빠르게 조회(응답 1/3 이하로 감소)
- 적중률/TTL 등 환경에 따라 유효기간 조정, 효과 배가 가능


## 7. 결론/회고
캐시 도입 전: 대량 트래픽 → DB 병목, 느린 응답 발생

캐시 도입 후: 최초 1회만 DB, 이후 캐시에서 빠르게 조회 (응답 1/3 이하로 감소)

서비스 확장 시 hot data 캐시 hit율은 더 높아질 수 있음

적중률 개선(LRU/TTL 등 전략, 캐시 유효기간 조정 등) 시 더욱 효과적


## 8. 실행/테스트

- **Swagger API 문서:** `http://localhost:3000/api-docs`  
  (API 스펙/직접 테스트/예시 요청/응답 캡처 첨부)
- **부하테스트/테스트 자동화 스크립트 제공**


## 9. 기타

- 아키텍처/지표/코드/테스트/회고까지 모두 깃허브에 버전 관리


